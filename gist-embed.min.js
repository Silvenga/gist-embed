function readGists(){$(function(){$("[data-gist-id]").each(function(){var d=$(this),c,b,f,j,i,h,e,g={};d.css("display","block");c=d.attr("data-gist-id")||"";f=d.attr("data-gist-file");h=true;e=false;j=(d.attr("data-gist-line")||"").replace(/ /g,"");i=(d.attr("data-gist-highlight-line")||"").replace(/ /g,"");if(f){g.file=f}if(!c){return false}b="https://gist.github.com/"+c+".json";d.html("Loading gist "+b+(g.file?", file: "+g.file:"")+"...");$.ajax({url:b,data:g,dataType:"jsonp",timeout:10000,success:function(m){var p,o,l,n,k;if(m&&m.div){if(m.stylesheet&&m.stylesheet.indexOf("http")!==0){if(m.stylesheet.indexOf("/")!==0){m.stylesheet="/"+m.stylesheet}m.stylesheet="https://gist.github.com"+m.stylesheet}if(m.stylesheet&&$('link[href="'+m.stylesheet+'"]').length===0){p=document.createElement("link");o=document.getElementsByTagName("head")[0];p.type="text/css";p.rel="stylesheet";p.href=m.stylesheet;o.insertBefore(p,o.firstChild)}k=$(m.div);k.removeAttr("id");d.html("").append(k);if(j){l=a(j);k.find(".line").each(function(q){if(($.inArray(q+1,l))===-1){$(this).remove()}});k.find(".line-number").each(function(q){if(($.inArray(q+1,l))===-1){$(this).remove()}})}if(h){k.find(".gist-meta").remove()}if(e){k.find(".line-numbers").remove()}if(i){n=a(i);k.find("td.line-data").css({width:"100%"});k.find(".line").each(function(q){if($.inArray(q+1,n)!==-1){$(this).css({"background-color":"rgb(255, 255, 204)"})}})}}else{d.html("Failed loading gist "+b)}},error:function(k,l){d.html("Failed loading gist "+b+": "+l)}})});function a(c){var b=[],f=c.split(","),d;for(var g=0;g<f.length;g++){d=f[g].split("-");if(d.length===2){for(var e=parseInt(d[0],10);e<=d[1];e++){b.push(e)}}else{if(d.length===1){b.push(parseInt(d[0],10))}}}return b}})};